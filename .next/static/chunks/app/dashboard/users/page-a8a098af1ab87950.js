(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[618],{6426:function(e,t,a){Promise.resolve().then(a.bind(a,7883))},7883:function(e,t,a){"use strict";a.r(t);var n=a(7437),s=a(7975),r=a(2265),l=a(6463),c=a(8472),i=a(7138);function u(e){return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("li",{onClick:e.onClick,className:"list-none bg-cyan-700 text-cyan-100 p-5 flex flex-col justify-center hover:cursor-pointer",children:[(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Name: "})," ",e.name]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Email: "}),e.email]})]})})}t.default=(0,s.Z)(function(){let e=(0,l.useRouter)(),[t,a]=(0,r.useState)([]),[s,o]=(0,r.useState)(""),[d,h]=(0,r.useState)([]),f=async()=>{let e=await c.Z.get("".concat("https://catways-api.onrender.com","/users/findall")),t=await e.data;a(t),h(t)},m=t=>{e.push("/dashboard/users/".concat(t))};(0,r.useEffect)(()=>{f()},[]);let x=e=>{let a=e.target.value;o(e=>a),a.length>1&&h(t.filter(e=>e.name.toLowerCase().includes(s.toLowerCase()))),""===a&&h(t)};return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("article",{className:"flex flex-col p-8 h-96",children:[(0,n.jsx)(i.default,{className:"underline mb-5",href:"/dashboard/users/create",children:"Create"}),(0,n.jsx)("input",{className:"w-1/3 p-2 text-black mb-2",type:"text",value:s,name:"search",placeholder:"Saisissez un utilisateur",onChange:e=>x(e)}),(0,n.jsx)("ul",{className:"grid grid-cols-1 gap-1",children:d.map(e=>(0,n.jsx)(u,{onClick:()=>{m(e._id)},name:e.name,email:e.email},e._id))})]})})})},7975:function(e,t,a){"use strict";a.d(t,{Z:function(){return i}});var n=a(7437),s=a(2265),r=a(6463),l=a(2649),c=a(8472);function i(e){return t=>{let a=(0,r.useRouter)(),i=(0,r.usePathname)();return(0,s.useEffect)(()=>{let e=l.Z.get("token");e?(c.Z.defaults.headers.common.Authorization="".concat(e),"/"===i&&a.replace("/dashboard")):a.replace("/")},[a]),(0,n.jsx)(e,{...t})}}}},function(e){e.O(0,[472,448,971,23,744],function(){return e(e.s=6426)}),_N_E=e.O()}]);