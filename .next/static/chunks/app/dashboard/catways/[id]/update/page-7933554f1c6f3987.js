(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[705],{3122:function(e,t,r){Promise.resolve().then(r.bind(r,8535))},8535:function(e,t,r){"use strict";r.r(t);var n=r(7437),a=r(7975),o=r(2265),i=r(8472),c=r(6463);r(208),t.default=(0,a.Z)(function(){let e=(0,c.useRouter)(),{id:t}=(0,c.useParams)(),[r,a]=(0,o.useState)(""),[s,u]=(0,o.useState)(""),[l,f]=(0,o.useState)(""),[h,d]=(0,o.useState)(""),[p,g]=(0,o.useState)([]);async function m(){let e=await i.Z.get("".concat("https://catways-api.onrender.com","/catways/").concat(t)),r=await e.data.catway;g(r),d(r.catwayState)}async function v(r){if(r.preventDefault(),l===h){a("Aucune modification d\xe9t\xe9ct\xe9e");return}let n=await i.Z.patch("".concat("https://catways-api.onrender.com","/catways/").concat(t,"/update"),{catwayState:l});501===n.status?(a(n.data.message),f("")):(u(n.data.message),setTimeout(()=>{e.replace("/dashboard/catways/".concat(t))},1e3))}return(0,o.useEffect)(()=>{m()},[]),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center w-full mt-10",children:[r&&(0,n.jsx)("p",{className:"text-red-500 font-bold",children:r})||s&&(0,n.jsx)("p",{className:"text-green-500",children:s}),(0,n.jsxs)("h2",{children:["Modification du catway ",p.catwayNumber]}),(0,n.jsxs)("form",{onSubmit:v,className:"flex flex-col justify-center gap-2 text-black",children:[(0,n.jsx)("input",{value:l,className:"border-cyan-700 border-2 p-2 outline-lime-800",type:"text",name:"name",id:"name",placeholder:p.catwayState,onChange:e=>{f(e.target.value)}}),(0,n.jsx)("input",{className:"p-2 border-2 border-cyan-700 bg-cyan-700 text-cyan-100 hover:cursor-pointer hover:text-lime-50",type:"submit",value:"Modifier"}),(0,n.jsx)("button",{onClick:()=>{e.replace("/dashboard/catways/".concat(t))},className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Retour"})]})]})})})},7975:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(7437),a=r(2265),o=r(6463),i=r(2649),c=r(8472);function s(e){return t=>{let r=(0,o.useRouter)(),s=(0,o.usePathname)();return(0,a.useEffect)(()=>{let e=i.Z.get("token");e?(c.Z.defaults.headers.common.Authorization="".concat(e),"/"===s&&r.replace("/dashboard")):r.replace("/")},[r]),(0,n.jsx)(e,{...t})}}},6463:function(e,t,r){"use strict";var n=r(1169);r.o(n,"useParams")&&r.d(t,{useParams:function(){return n.useParams}}),r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})},6583:function(e,t){"use strict";function r(e){if("string"==typeof e)return"file://"+e;if(e&&"object"==typeof e&&Array.isArray(e.sources))return Object.assign({},e,{sources:e.sources.map(r)});throw Error("expected string|object")}function n(e){if("string"==typeof e)return e.replace(/^file:\/{2}/,"");if(e&&"object"==typeof e&&Array.isArray(e.sources))return Object.assign({},e,{sources:e.sources.map(n)});throw Error("expected string|object")}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{prepend:function(){return r},remove:function(){return n}})},208:function(e,t,r){"use strict";var n;(n=r(1642))&&n.__esModule,r(6583)},1642:function(e){!function(){"use strict";var t={114:function(e){function t(e){if("string"!=typeof e)throw TypeError("Path must be a string. Received "+JSON.stringify(e))}function r(e,t){for(var r,n="",a=0,o=-1,i=0,c=0;c<=e.length;++c){if(c<e.length)r=e.charCodeAt(c);else if(47===r)break;else r=47;if(47===r){if(o===c-1||1===i);else if(o!==c-1&&2===i){if(n.length<2||2!==a||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2)){if(n.length>2){var s=n.lastIndexOf("/");if(s!==n.length-1){-1===s?(n="",a=0):a=(n=n.slice(0,s)).length-1-n.lastIndexOf("/"),o=c,i=0;continue}}else if(2===n.length||1===n.length){n="",a=0,o=c,i=0;continue}}t&&(n.length>0?n+="/..":n="..",a=2)}else n.length>0?n+="/"+e.slice(o+1,c):n=e.slice(o+1,c),a=c-o-1;o=c,i=0}else 46===r&&-1!==i?++i:i=-1}return n}var n={resolve:function(){for(var e,n,a="",o=!1,i=arguments.length-1;i>=-1&&!o;i--)i>=0?n=arguments[i]:(void 0===e&&(e=""),n=e),t(n),0!==n.length&&(a=n+"/"+a,o=47===n.charCodeAt(0));return(a=r(a,!o),o)?a.length>0?"/"+a:"/":a.length>0?a:"."},normalize:function(e){if(t(e),0===e.length)return".";var n=47===e.charCodeAt(0),a=47===e.charCodeAt(e.length-1);return(0!==(e=r(e,!n)).length||n||(e="."),e.length>0&&a&&(e+="/"),n)?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0==arguments.length)return".";for(var e,r=0;r<arguments.length;++r){var a=arguments[r];t(a),a.length>0&&(void 0===e?e=a:e+="/"+a)}return void 0===e?".":n.normalize(e)},relative:function(e,r){if(t(e),t(r),e===r||(e=n.resolve(e))===(r=n.resolve(r)))return"";for(var a=1;a<e.length&&47===e.charCodeAt(a);++a);for(var o=e.length,i=o-a,c=1;c<r.length&&47===r.charCodeAt(c);++c);for(var s=r.length-c,u=i<s?i:s,l=-1,f=0;f<=u;++f){if(f===u){if(s>u){if(47===r.charCodeAt(c+f))return r.slice(c+f+1);if(0===f)return r.slice(c+f)}else i>u&&(47===e.charCodeAt(a+f)?l=f:0===f&&(l=0));break}var h=e.charCodeAt(a+f);if(h!==r.charCodeAt(c+f))break;47===h&&(l=f)}var d="";for(f=a+l+1;f<=o;++f)(f===o||47===e.charCodeAt(f))&&(0===d.length?d+="..":d+="/..");return d.length>0?d+r.slice(c+l):(c+=l,47===r.charCodeAt(c)&&++c,r.slice(c))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var r=e.charCodeAt(0),n=47===r,a=-1,o=!0,i=e.length-1;i>=1;--i)if(47===(r=e.charCodeAt(i))){if(!o){a=i;break}}else o=!1;return -1===a?n?"/":".":n&&1===a?"//":e.slice(0,a)},basename:function(e,r){if(void 0!==r&&"string"!=typeof r)throw TypeError('"ext" argument must be a string');t(e);var n,a=0,o=-1,i=!0;if(void 0!==r&&r.length>0&&r.length<=e.length){if(r.length===e.length&&r===e)return"";var c=r.length-1,s=-1;for(n=e.length-1;n>=0;--n){var u=e.charCodeAt(n);if(47===u){if(!i){a=n+1;break}}else -1===s&&(i=!1,s=n+1),c>=0&&(u===r.charCodeAt(c)?-1==--c&&(o=n):(c=-1,o=s))}return a===o?o=s:-1===o&&(o=e.length),e.slice(a,o)}for(n=e.length-1;n>=0;--n)if(47===e.charCodeAt(n)){if(!i){a=n+1;break}}else -1===o&&(i=!1,o=n+1);return -1===o?"":e.slice(a,o)},extname:function(e){t(e);for(var r=-1,n=0,a=-1,o=!0,i=0,c=e.length-1;c>=0;--c){var s=e.charCodeAt(c);if(47===s){if(!o){n=c+1;break}continue}-1===a&&(o=!1,a=c+1),46===s?-1===r?r=c:1!==i&&(i=1):-1!==r&&(i=-1)}return -1===r||-1===a||0===i||1===i&&r===a-1&&r===n+1?"":e.slice(r,a)},format:function(e){var t,r;if(null===e||"object"!=typeof e)throw TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return t=e.dir||e.root,r=e.base||(e.name||"")+(e.ext||""),t?t===e.root?t+r:t+"/"+r:r},parse:function(e){t(e);var r,n={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return n;var a=e.charCodeAt(0),o=47===a;o?(n.root="/",r=1):r=0;for(var i=-1,c=0,s=-1,u=!0,l=e.length-1,f=0;l>=r;--l){if(47===(a=e.charCodeAt(l))){if(!u){c=l+1;break}continue}-1===s&&(u=!1,s=l+1),46===a?-1===i?i=l:1!==f&&(f=1):-1!==i&&(f=-1)}return -1===i||-1===s||0===f||1===f&&i===s-1&&i===c+1?-1!==s&&(0===c&&o?n.base=n.name=e.slice(1,s):n.base=n.name=e.slice(c,s)):(0===c&&o?(n.name=e.slice(1,i),n.base=e.slice(1,s)):(n.name=e.slice(c,i),n.base=e.slice(c,s)),n.ext=e.slice(i,s)),c>0?n.dir=e.slice(0,c-1):o&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};n.posix=n,e.exports=n}},r={};function n(e){var a=r[e];if(void 0!==a)return a.exports;var o=r[e]={exports:{}},i=!0;try{t[e](o,o.exports,n),i=!1}finally{i&&delete r[e]}return o.exports}n.ab="//";var a=n(114);e.exports=a}()},2649:function(e,t,r){"use strict";/*! js-cookie v3.0.5 | MIT */function n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)e[n]=r[n]}return e}r.d(t,{Z:function(){return a}});var a=function e(t,r){function a(e,a,o){if("undefined"!=typeof document){"number"==typeof(o=n({},r,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var i="";for(var c in o)o[c]&&(i+="; "+c,!0!==o[c]&&(i+="="+o[c].split(";")[0]));return document.cookie=e+"="+t.write(a,e)+i}}return Object.create({set:a,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var r=document.cookie?document.cookie.split("; "):[],n={},a=0;a<r.length;a++){var o=r[a].split("="),i=o.slice(1).join("=");try{var c=decodeURIComponent(o[0]);if(n[c]=t.read(i,c),e===c)break}catch(e){}}return e?n[e]:n}},remove:function(e,t){a(e,"",n({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,n({},this.attributes,t))},withConverter:function(t){return e(n({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}},function(e){e.O(0,[472,971,23,744],function(){return e(e.s=3122)}),_N_E=e.O()}]);