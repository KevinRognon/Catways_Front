(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[643],{6924:function(e,t,a){Promise.resolve().then(a.bind(a,2137))},2137:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return c}});var s=a(7437),r=a(2265),n=a(8472),u=a(6259);function c(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"flex flex-col items-center justify-center w-full mt-10",children:(0,s.jsx)("h1",{children:"Cr\xe9ation d'un catway"})}),(0,s.jsx)("div",{className:"flex flex-col items-center justify-center w-full mt-10",children:(0,s.jsx)(o,{})})]})}function o(){let[e,t]=(0,r.useState)(""),[a,c]=(0,r.useState)(""),[o,l]=(0,r.useState)(""),[i,d]=(0,r.useState)(""),[m,f]=(0,r.useState)("");function p(e){f(""),d(e)}async function y(s){s.preventDefault(),d(""),f("");try{let s=await n.Z.post("".concat("https://catways-api.onrender.com","/catways/create"),{catwayNumber:e,catwayType:a.toLowerCase(),catwayState:o});if(200===s.status&&s.data.message){var r;r=s.data.message,d(""),f(r),t(""),c(""),l("")}else 400===s.status&&s.data.message?p(s.data.message):p("Une erreur est survenue.")}catch(e){e.response&&e.response.data&&e.response.data.message?p(e.response.data.message):p("Erreur du serveur: ".concat(e.message))}setTimeout(()=>{f(""),d("")},5e3)}return(0,s.jsxs)(s.Fragment,{children:[i&&(0,s.jsx)("p",{className:"text-red-500 font-bold",children:i}),m&&(0,s.jsx)("p",{className:"text-green-500",children:m}),(0,s.jsxs)("form",{onSubmit:y,className:"flex flex-col justify-center gap-2 text-black",children:[(0,s.jsx)("input",{value:e,className:"border-cyan-700 border-2 p-2 outline-lime-800",type:"text",name:"catwayNumber",id:"catwayNumber",placeholder:"Num\xe9ro du catway",onChange:e=>{t(e.target.value)}}),(0,s.jsx)("input",{value:a,className:"border-cyan-700 border-2 p-2 outline-lime-800",type:"text",name:"catwayType",id:"catwayType",placeholder:"Taille du catway : short ou long",onChange:e=>{c(e.target.value)}}),(0,s.jsx)("input",{value:o,className:"border-cyan-700 border-2 p-2 outline-lime-800",type:"text",name:"catwayState",id:"catwayState",placeholder:"Etat du catway",onChange:e=>{l(e.target.value)}}),(0,s.jsx)("input",{className:"p-2 border-2 border-cyan-700 bg-cyan-700 text-cyan-100 hover:cursor-pointer hover:text-lime-50",type:"submit",value:"Cr\xe9er"}),(0,s.jsx)(u.Z,{})]})]})}},6259:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});var s=a(7437),r=a(6463);function n(){let e=(0,r.useRouter)();return(0,s.jsx)("button",{onClick:()=>{e.back()},className:"bg-blue-700 text-white px-4 py-2 rounded-full hover:bg-blue-600",children:"Retour"})}a(2265)},6463:function(e,t,a){"use strict";var s=a(1169);a.o(s,"useParams")&&a.d(t,{useParams:function(){return s.useParams}}),a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}})}},function(e){e.O(0,[472,971,23,744],function(){return e(e.s=6924)}),_N_E=e.O()}]);